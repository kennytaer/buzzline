import{j as e}from"./index-C-5hEMXZ.js";import{a as c}from"./utils-z-rVVjtK.js";import{u as j,a as p,F as r}from"./components-CcwgdvBG.js";function N(){const{campaign:s,contactLists:m,analytics:t}=j(),a=p(),x=()=>s.contactListIds.map(l=>{const d=m.find(i=>i.id===l);return d?d.name:`Unknown List (${l})`}).join(", "),o=()=>s.contactListIds.reduce((l,d)=>{var n;const i=m.find(h=>h.id===d);return l+(((n=i==null?void 0:i.contactIds)==null?void 0:n.length)||0)},0);return e.jsx("div",{className:"px-4 py-6 sm:px-0",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"md:flex md:items-center md:justify-between mb-8",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold leading-7 text-gray-900",children:s.name}),e.jsxs("div",{className:"mt-1 flex flex-col sm:mt-0 sm:flex-row sm:flex-wrap sm:space-x-6",children:[e.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="draft"?"bg-gray-100 text-gray-800":s.status==="sending"?"bg-blue-100 text-blue-800":s.status==="sent"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status})}),e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:["Type: ",e.jsx("span",{className:"ml-1 font-medium",children:s.type})]}),e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:["Created: ",c(s.createdAt)]}),s.sentAt&&e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:["Sent: ",c(s.sentAt)]})]})]}),e.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:s.status==="draft"&&e.jsxs(r,{method:"post",className:"inline",children:[e.jsx("input",{type:"hidden",name:"_action",value:"send"}),e.jsx("button",{type:"submit",className:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Send Campaign"})]})})]}),a&&"success"in a&&e.jsx("div",{className:"mb-6 rounded-md bg-green-50 p-4",children:e.jsx("div",{className:"text-sm text-green-800",children:a.success})}),a&&"error"in a&&e.jsx("div",{className:"mb-6 rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"text-sm text-red-800",children:a.error})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Campaign Overview"}),e.jsxs("div",{className:"space-y-4",children:[s.description&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:s.description})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Target Audience"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[x()," (",o()," contacts)"]})]})]})]}),s.emailTemplate&&e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Email Template"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"From"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[s.emailTemplate.fromName," <",s.emailTemplate.fromEmail,">"]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Subject"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:s.emailTemplate.subject})]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Content"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:e.jsx("div",{className:"bg-gray-50 rounded-md p-4 max-h-64 overflow-y-auto",children:e.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:s.emailTemplate.htmlBody})})})]})]})]}),s.smsTemplate&&e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"SMS Template"}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Message"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[e.jsx("div",{className:"bg-gray-50 rounded-md p-4",children:e.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:s.smsTemplate.message})}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[s.smsTemplate.message.length," characters"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Performance"}),s.status==="draft"?e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Campaign hasn't been sent yet"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Total Sent"}),e.jsx("span",{className:"font-medium",children:t.totalSent})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Delivered"}),e.jsx("span",{className:"font-medium",children:t.totalDelivered})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Failed"}),e.jsx("span",{className:"font-medium",children:t.totalFailed})]})]}),s.emailTemplate&&t.emailStats&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Email"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Opened"}),e.jsxs("span",{className:"font-medium",children:[t.emailStats.opened," (",t.emailStats.openRate,"%)"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Clicked"}),e.jsxs("span",{className:"font-medium",children:[t.emailStats.clicked," (",t.emailStats.clickRate,"%)"]})]})]})]}),s.smsTemplate&&t.smsStats&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"SMS"}),e.jsx("div",{className:"space-y-1",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Delivery Rate"}),e.jsxs("span",{className:"font-medium",children:[t.smsStats.deliveryRate,"%"]})]})})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Settings"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[s.settings.trackOpens&&e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx("svg",{className:"h-4 w-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Email opens tracked"]}),s.settings.trackClicks&&e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx("svg",{className:"h-4 w-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Link clicks tracked"]})]})]}),s.status==="draft"&&e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:`/dashboard/campaigns/${s.id}/edit`,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Edit Campaign"}),e.jsxs(r,{method:"post",className:"w-full",children:[e.jsx("input",{type:"hidden",name:"_action",value:"delete"}),e.jsx("button",{type:"submit",className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200",onClick:l=>{confirm("Are you sure you want to delete this campaign?")||l.preventDefault()},children:"Delete Campaign"})]})]})]})]})]})]})})}export{N as default};
